// 100% auto-generated by Source Genesys WebApi Front & Back Creator
// copyright © 2000-2025 Menphis - Sistemas Inteligentes
// This file is part of the Source Genesys project                     
// ============================================
// ARQUIVO: DBUpdateTests.cs.txt (Principal)
// ============================================
namespace MenphisSI.GerAdv.Tests;
public class DBUFUpdate : IDisposable
{
    private readonly DBUF _instance;
    private readonly Mock<MsiSqlConnection> _mockConnection;
    public DBUFUpdate()
    {
        _instance = new DBUF();
        _mockConnection = new Mock<MsiSqlConnection>();
    }

    [Fact]
    public void DefaultConstructor_ShouldCreateInstance_WithDefaultValues()
    {
        // Act
        var uf = new DBUF();
        // Assert
        uf.Should().NotBeNull();
        uf.ITabelaName().Should().Be("UF");
        uf.ID.Should().Be(0);
    }

    [Fact]
    public void AllProperties_WithValidValues_ShouldSetCorrectly()
    {
        // Arrange
        var uf = new DBUF
        {
            FDDD = "AAAAAAAAAA",
            FDescricao = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
            FGUID = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        };
        // Assert - All properties should be set uf.FDDD.Should().Be( "AAAAAAAAAA");
        uf.FDescricao.Should().Be("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA");
        uf.FGUID.Should().Be("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA");
    }

    [Fact]
    public void StringProperties_WithExcessiveLength_ShouldTruncateToMaxLength()
    {
        // Arrange
        var uf = new DBUF();
        var longString = new string ('X', 300);
        uf.FDDD = longString; // MAX: 10
        uf.FDescricao = longString; // MAX: 40
        uf.FGUID = longString; // MAX: 100
        // Assert - All properties should be set uf.FDDD.Should().HaveLength(10);
        uf.FDescricao.Should().HaveLength(40);
        uf.FGUID.Should().HaveLength(100);
    }

    [Theory]
    [InlineData("AAAAAAAA")]
    [InlineData("BBBBBBB")]
    [InlineData("CCCCCCCCc")]
    public void FDDD_Property_ShouldAcceptValidNames(string DDD)
    {
        // Arrange
        var uf = new DBUF
        {
            // Act
            FDDD = DDD
        };
        // Assert
        uf.FDDD.Should().Be(DDD);
    }

    [Fact]
    public void FDDD_WithNullValue_ShouldReturnEmptyString()
    {
        // Arrange
        var uf = new DBUF
        {
            // Act
            FDDD = null
        };
        // Assert
        uf.FDDD.Should().Be(string.Empty);
    }

    [Fact]
    public void FDDD_WithExcessiveLength_ShouldTruncateToMaxLength()
    {
        // Arrange
        var uf = new DBUF();
        var longName = new string ('A', 10 + 10); // Exceeds 10 character limit
        // Act
        uf.FDDD = longName;
        // Assert
        uf.FDDD.Should().HaveLength(10);
    }

    [Fact]
    public void FDDD_Get_WhenFieldIsNull_ReturnsEmptyString()
    {
        // Arrange
        _instance.FDDD = null;
        // Act
        var result = _instance.FDDD;
        // Assert
        Assert.Equal(string.Empty, result);
    }

    [Fact]
    public void FDDD_Get_WhenFieldHasValue_ReturnsValue()
    {
        // Arrange
        var expectedValue = "Test Value".Trim();
        _instance.FDDD = expectedValue;
        // Act
        var result = _instance.FDDD;
        // Assert
        Assert.Equal(expectedValue, result);
    }

    [Fact]
    public void FDDD_Set_WithNullValue_SetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FDDD = null;
        // Assert
        Assert.Equal(string.Empty, _instance.FDDD);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDDD_Set_WithEmptyString_SetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FDDD = string.Empty;
        // Assert
        Assert.Equal(string.Empty, _instance.FDDD);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.False(fieldValue);
    }

    [Fact]
    public void FDDD_Set_WithValidValue_AppliesTransformationsAndSetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        var inputValue = "  AAAAAAAA  ";
        var expectedValue = "AAAAAAAA";
        // Act
        _instance.FDDD = inputValue;
        // Assert
        Assert.Equal(expectedValue, _instance.FDDD);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDDD_Set_WithSameValue_SetFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        var value = "Test Value";
        _instance.FDDD = value;
        // Act
        _instance.FDDD = value;
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDDD_Set_WithDifferentValue_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDDD = "Original Value";
        // Act
        _instance.FDDD = "New Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDDD_Set_MultipleTimes_FlagRemainsTrue()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDDD = "First Value";
        // Act
        _instance.FDDD = "Second Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDDD_Set_WithWhitespaceOnly_AppliesTrimAndSetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FDDD = "   ";
        // Assert
        Assert.Equal(string.Empty, _instance.FDDD);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Theory]
    [InlineData("AAAAAAAA", "AAAAAAAA")]
    [InlineData("  BBBBBBB  ", "BBBBBBB")]
    [InlineData("CCCCCCCCc", "CCCCCCCCc")]
    public void FDDD_Set_AppliesFixAbcTransformation(string input, string expected)
    {
        // Act
        _instance.FDDD = input;
        // Assert
        Assert.Equal(expected, _instance.FDDD);
    }

    [Fact]
    public void FDDD_Set_FromNullToValue_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDDD = null;
        // Act
        _instance.FDDD = "New Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDDD_Set_FromValueToNull_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDDD", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDDD = "Existing Value";
        // Act
        _instance.FDDD = null;
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Theory]
    [InlineData("AA")]
    [InlineData("B")]
    [InlineData("CCc")]
    public void FID_Property_ShouldAcceptValidNames(string ID)
    {
        // Arrange
        var uf = new DBUF
        {
            // Act
            FID = ID
        };
        // Assert
        uf.FID.Should().Be(ID);
    }

    [Fact]
    public void FID_WithNullValue_ShouldReturnEmptyString()
    {
        // Arrange
        var uf = new DBUF
        {
            // Act
            FID = null
        };
        // Assert
        uf.FID.Should().Be(string.Empty);
    }

    [Fact]
    public void FID_WithExcessiveLength_ShouldTruncateToMaxLength()
    {
        // Arrange
        var uf = new DBUF();
        var longName = new string ('A', 4 + 10); // Exceeds 4 character limit
        // Act
        uf.FID = longName;
        // Assert
        uf.FID.Should().HaveLength(4);
    }

    [Fact]
    public void FID_Get_WhenFieldIsNull_ReturnsEmptyString()
    {
        // Arrange
        _instance.FID = null;
        // Act
        var result = _instance.FID;
        // Assert
        Assert.Equal(string.Empty, result);
    }

    [Fact]
    public void FID_Get_WhenFieldHasValue_ReturnsValue()
    {
        // Arrange
        var expectedValue = "Test".Trim();
        _instance.FID = expectedValue;
        // Act
        var result = _instance.FID;
        // Assert
        Assert.Equal(expectedValue, result);
    }

    [Fact]
    public void FID_Set_WithNullValue_SetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FID = null;
        // Assert
        Assert.Equal(string.Empty, _instance.FID);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FID_Set_WithEmptyString_SetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FID = string.Empty;
        // Assert
        Assert.Equal(string.Empty, _instance.FID);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.False(fieldValue);
    }

    [Fact]
    public void FID_Set_WithValidValue_AppliesTransformationsAndSetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        var inputValue = "  AA  ";
        var expectedValue = "AA";
        // Act
        _instance.FID = inputValue;
        // Assert
        Assert.Equal(expectedValue, _instance.FID);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FID_Set_WithSameValue_SetFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        var value = "Test Value";
        _instance.FID = value;
        // Act
        _instance.FID = value;
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FID_Set_WithDifferentValue_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FID = "Original Value";
        // Act
        _instance.FID = "New Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FID_Set_MultipleTimes_FlagRemainsTrue()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FID = "First Value";
        // Act
        _instance.FID = "Second Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FID_Set_WithWhitespaceOnly_AppliesTrimAndSetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FID = "   ";
        // Assert
        Assert.Equal(string.Empty, _instance.FID);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Theory]
    [InlineData("AA", "AA")]
    [InlineData("  B  ", "B")]
    [InlineData("CCc", "CCc")]
    public void FID_Set_AppliesFixAbcTransformation(string input, string expected)
    {
        // Act
        _instance.FID = input;
        // Assert
        Assert.Equal(expected, _instance.FID);
    }

    [Fact]
    public void FID_Set_FromNullToValue_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FID = null;
        // Act
        _instance.FID = "New Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FID_Set_FromValueToNull_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFID", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FID = "Existing Value";
        // Act
        _instance.FID = null;
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Theory]
    [InlineData("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA")]
    [InlineData("BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB")]
    [InlineData("CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCc")]
    public void FDescricao_Property_ShouldAcceptValidNames(string Descricao)
    {
        // Arrange
        var uf = new DBUF
        {
            // Act
            FDescricao = Descricao
        };
        // Assert
        uf.FDescricao.Should().Be(Descricao);
    }

    [Fact]
    public void FDescricao_WithNullValue_ShouldReturnEmptyString()
    {
        // Arrange
        var uf = new DBUF
        {
            // Act
            FDescricao = null
        };
        // Assert
        uf.FDescricao.Should().Be(string.Empty);
    }

    [Fact]
    public void FDescricao_WithExcessiveLength_ShouldTruncateToMaxLength()
    {
        // Arrange
        var uf = new DBUF();
        var longName = new string ('A', 40 + 10); // Exceeds 40 character limit
        // Act
        uf.FDescricao = longName;
        // Assert
        uf.FDescricao.Should().HaveLength(40);
    }

    [Fact]
    public void FDescricao_Get_WhenFieldIsNull_ReturnsEmptyString()
    {
        // Arrange
        _instance.FDescricao = null;
        // Act
        var result = _instance.FDescricao;
        // Assert
        Assert.Equal(string.Empty, result);
    }

    [Fact]
    public void FDescricao_Get_WhenFieldHasValue_ReturnsValue()
    {
        // Arrange
        var expectedValue = "Test Value".Trim();
        _instance.FDescricao = expectedValue;
        // Act
        var result = _instance.FDescricao;
        // Assert
        Assert.Equal(expectedValue, result);
    }

    [Fact]
    public void FDescricao_Set_WithNullValue_SetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FDescricao = null;
        // Assert
        Assert.Equal(string.Empty, _instance.FDescricao);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_WithEmptyString_SetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FDescricao = string.Empty;
        // Assert
        Assert.Equal(string.Empty, _instance.FDescricao);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.False(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_WithValidValue_AppliesTransformationsAndSetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        var inputValue = "  AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA  ";
        var expectedValue = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
        // Act
        _instance.FDescricao = inputValue;
        // Assert
        Assert.Equal(expectedValue, _instance.FDescricao);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_WithSameValue_SetFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        var value = "Test Value";
        _instance.FDescricao = value;
        // Act
        _instance.FDescricao = value;
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_WithDifferentValue_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDescricao = "Original Value";
        // Act
        _instance.FDescricao = "New Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_MultipleTimes_FlagRemainsTrue()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDescricao = "First Value";
        // Act
        _instance.FDescricao = "Second Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_WithWhitespaceOnly_AppliesTrimAndSetsEmptyString()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        // Act
        _instance.FDescricao = "   ";
        // Assert
        Assert.Equal(string.Empty, _instance.FDescricao);
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Theory]
    [InlineData("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA", "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA")]
    [InlineData("  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB  ", "BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB")]
    [InlineData("CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCc", "CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCc")]
    public void FDescricao_Set_AppliesFixAbcTransformation(string input, string expected)
    {
        // Act
        _instance.FDescricao = input;
        // Assert
        Assert.Equal(expected, _instance.FDescricao);
    }

    [Fact]
    public void FDescricao_Set_FromNullToValue_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDescricao = null;
        // Act
        _instance.FDescricao = "New Value";
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

    [Fact]
    public void FDescricao_Set_FromValueToNull_SetsFlag()
    {
        // Arrange
        var fieldInfo = typeof(DBUF).GetField("pFldFDescricao", BindingFlags.NonPublic | BindingFlags.Instance);
        _instance.FDescricao = "Existing Value";
        // Act
        _instance.FDescricao = null;
        // Assert
        var fieldValueObj = fieldInfo?.GetValue(_instance);
        var fieldValue = fieldValueObj is bool b ? b : false;
        Assert.True(fieldValue);
    }

#region Testes de GUID
    [Fact]
    public void GUID_DefaultValue_ShouldBeEmpty()
    {
        Assert.Equal(string.Empty, _instance.FGUID);
    }

    [Fact]
    public void GUID_SetValidGUID_ShouldStore()
    {
        var guid = Guid.NewGuid().ToString();
        _instance.FGUID = guid;
        Assert.Equal(guid, _instance.FGUID);
    }

#endregion
    [Fact]
    public void TabelaNome_Property_ShouldReturnCorrectTableName()
    {
        // Arrange
        var uf = new DBUF();
        // Act & Assert
        uf.TabelaNome.Should().Be("UF");
    }

    public virtual void Dispose()
    {
    // Cleanup resources if needed
    }
}