// 100% auto-generated by Source Genesys WebApi Front & Back Creator
// copyright © 2000-2025 Menphis - Sistemas Inteligentes
// This file is part of the Source Genesys project                     
#pragma warning disable IDE0130 // Namespace does not match folder structure

namespace MenphisSI.GerAdv.Writers;
#pragma warning restore IDE0130 // Namespace does not match folder structure

public partial interface IModelosDocumentosWriter
{
    Task<FModelosDocumentos> WriteAsync(Models.ModelosDocumentos modelosdocumentos, int auditorQuem, MsiSqlConnection oCnn);
    Task Delete(ModelosDocumentosResponse modelosdocumentos, int operadorId, MsiSqlConnection oCnn);
}

public class ModelosDocumentosWriter(IFModelosDocumentosFactory modelosdocumentosFactory) : IModelosDocumentosWriter
{
    private readonly IFModelosDocumentosFactory _modelosdocumentosFactory = modelosdocumentosFactory ?? throw new ArgumentNullException(nameof(modelosdocumentosFactory));
    public virtual async Task Delete(ModelosDocumentosResponse modelosdocumentos, int operadorId, MsiSqlConnection oCnn)
    {
        await _modelosdocumentosFactory.DeleteAsync(operadorId, modelosdocumentos.Id, oCnn);
    }

    public virtual async Task<FModelosDocumentos> WriteAsync(Models.ModelosDocumentos modelosdocumentos, int auditorQuem, MsiSqlConnection oCnn)
    {
        using var dbRec = await (modelosdocumentos.Id.IsEmptyIDNumber() ? _modelosdocumentosFactory.CreateAsync() : _modelosdocumentosFactory.CreateFromIdAsync(modelosdocumentos.Id, oCnn));
        dbRec.FNome = modelosdocumentos.Nome;
        dbRec.FRemuneracao = modelosdocumentos.Remuneracao;
        dbRec.FAssinatura = modelosdocumentos.Assinatura;
        dbRec.FHeader = modelosdocumentos.Header;
        dbRec.FFooter = modelosdocumentos.Footer;
        dbRec.FExtra1 = modelosdocumentos.Extra1;
        dbRec.FExtra2 = modelosdocumentos.Extra2;
        dbRec.FExtra3 = modelosdocumentos.Extra3;
        dbRec.FOutorgante = modelosdocumentos.Outorgante;
        dbRec.FOutorgados = modelosdocumentos.Outorgados;
        dbRec.FPoderes = modelosdocumentos.Poderes;
        dbRec.FObjeto = modelosdocumentos.Objeto;
        dbRec.FTitulo = modelosdocumentos.Titulo;
        dbRec.FTestemunhas = modelosdocumentos.Testemunhas;
        dbRec.FTipoModeloDocumento = modelosdocumentos.TipoModeloDocumento;
        dbRec.FCSS = modelosdocumentos.CSS;
        dbRec.FGUID = modelosdocumentos.GUID;
        dbRec.AuditorQuem = auditorQuem;
        await dbRec.UpdateAsync(oCnn);
        return dbRec;
    }
}